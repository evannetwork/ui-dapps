/*
  Copyright (C) 2018-present evan GmbH.

  This program is free software: you can redistribute it and/or modify it
  under the terms of the GNU Affero General Public License, version 3,
  as published by the Free Software Foundation.

  This program is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.
  See the GNU Affero General Public License for more details.

  You should have received a copy of the GNU Affero General Public License
  along with this program. If not, see http://www.gnu.org/licenses/ or
  write to the Free Software Foundation, Inc., 51 Franklin Street,
  Fifth Floor, Boston, MA, 02110-1301 USA, or download the license from
  the following URL: https://evan.network/license/
*/

@import '@evan.network/ui-angular-sass/src/variables/colors';

.evan-angular {
  taskboard-task-detail {
    .checkbox-icon:disabled {
      opacity: 0.6;
    }

    .item.item-md {
      .checkbox-md {
        &.disabled {
          cursor: initial;
        }
      }

      .checkbox-md, ion-spinner {
        display: inline-block;

        cursor: pointer;
        vertical-align: top;
      }
    }

    .reload-icon {
      margin-left: 10px;

      vertical-align: unset;

      &:hover {
        color: $light;
      }
    }

    .evan-content button.bottom-right {
      right: -15px;
      bottom: -15px;
    }

    .task-hint-container {
      margin-top: 25px;
      margin-bottom: 32px;
      padding-bottom: 46px !important;

      & > div {
        display: flex;
        align-items: center;
        flex-wrap: wrap;
        justify-content: space-between;

        padding: 25px 25px 0 25px;

        @media (min-width: 993px) {
          height: 50px;
        }

        & > span, & > div > span {
          display: block;

          word-break: break-all;
        }

        &.evan-seperator {
          overflow: hidden;

          height: 1px;
          margin: 32px 0 25px 0;
          padding: 0;
        }
      }
    }

    button[round][icon-only] {
      ion-icon[name='information'] {
        font-size: 35px;
      }
    }

    .member-container {
      display: flex;

      width: 100%;
      height: auto !important;

      border-bottom: 0;

      & > div {
        width: 100%;
      }

      .evan-tag-container {
        margin-top: -46px;

        border-bottom: 0;
      }
    }

    .todo-container {
      width: 100%;
      margin: 0;
      margin-top: 16px;
      padding: 0 !important;

      border-bottom: 1px solid $background-color;

      &.todos-locked {
        opacity: 0.6;
      }

      &.is-active {
        .todo-header-container {
          background-color: rgba($hover, 0.5) !important;
        }

        @media (max-width: 768px) {
          position: fixed;
          z-index: 999;
          top: 0;
          right: 0;
          left: 0;

          overflow-x: hidden;
          overflow-y: auto;

          height: 100%;
          margin: auto;
          padding: 8px 16px 8px 8px;

          background-color: $background-color;
        }
      }

      .todo-header-container {
        display: flex;

        &:hover {
          background-color: rgba($hover, 0.5) !important;
        }
      }

      .todo-header-container, .todo-data {
        position: relative;

        width: 100%;
        padding: 25px;

        ion-item.item-md.item-block .item-inner {
          border-bottom: 1px solid #357380;
        }

        hr {
          border-top: 1px solid #357380;
        }
      }

      .todo-data {
        padding-top: 0;

        border-top: 1px solid $primary;

        .todo-solve-container {
          @media (max-width: 768px) {
            text-align: center;
          }
          @media (min-width: 769px) {
            text-align: right;
          }
        }

        .empty-pictures {
          font-size: 14px;

          margin-bottom: 25px;
        }
      }

      button.top-right {
        top: 26px !important;
        right: 24px !important;
      }

      .evan-circle {
        margin-right: 16px;

        vertical-align: top;

        background-color: $background-color;

        &.bg-success {
          color: $dark-gray;
          background-color: $green;
        }
      }

      .display-inline-block {
        font-size: 13px;

        overflow: hidden;

        max-width: calc(100% - 95px);

        text-overflow: ellipsis;

        color: $light-gray;
      }

      ion-item:hover {
        .evan-circle {
          background-color: $primary;
        }
      }
      .signature-container {
        position: relative;

        width: 500px;
        max-width: 100%;
        margin-top: 16px;
        margin-bottom: 16px;

        border: 1px solid white;

        ion-spinner {
          position: absolute;
          top: 0;
          right: 0;
          bottom: 0;
          left: 0;

          margin: auto;
        }
        canvas, img {
          max-width: 100%;
        }
      }

      .picture-container {
        width: 100%;

        &.text-center {
          text-align: center;
        }

        &.text-left {
          text-align: left;
        }

        & > button {
          font-size: 13px !important;

          margin: 16px 0;
          padding: 16px !important;
        }

        .top-right {
          top: -15px !important;
          right: -15px !important;
        }

        .evan-relative {
          display: inline-block;

          margin: 25px;

          img {
            max-width: 100%;
          }

          @media (min-width: 769px) {
            img {
              height: 120px;
            }
          }

          @media (max-width: 768px) {
            & {
              width: calc(50% - 22px);
              margin: 25px 8px;
            }
          }
        }
      }

      &.choice-container {
        .checkbox-md {
          vertical-align: middle;
        }
      }
    }

    ion-item.signature-item {
      .input-wrapper {
        align-items: flex-start;

        margin-bottom: 1px;
      }
    }

    .locked-img {
      width: 100px;
      height: 100px;
      margin: 25px;
      margin-left: calc(50% - 50px);

      text-align: center;

      border-radius: 50%;
      background: url('data:image/png;base64,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');
      background-repeat: no-repeat;
      background-position: center;
      background-size: 100px;

      -webkit-filter: grayscale(100%); /* Safari 6.0 - 9.0 */
              filter: grayscale(100%);
    }

    button.detail-toggle {
      position: absolute;
      z-index: 10;
      bottom: -20px;
      left: calc(50% - 10px);
    }

    .activation-outstanding {
      opacity: 0.6;
    }

    .todo-toggle {
      margin-top: -10px;
    }

    .member-toggle {
      margin-top: -5px;
      margin-left: -10px;
    }

    contract-members {
      width: 100%;
      margin-top: 0;
      margin-left: 0;
      padding-left: 0;

      ion-label {
        display: none;
      }

      .item-inner {
        border-bottom: 0 !important;
      }
    }

    .solve-task-hint {
      width: 100%;
      padding: 16px;

      color: $light;
      background-color: $red;
    }

    .toggle-technical-detail {
      max-width: 100%;

      @media (max-width: 768px) {
        margin-top: 25px;
      }
    }
  }
}

.platform-ios {
  taskboard-task-detail {
    .todo-container.is-active {
      top: 56px !important;

      overflow-y: scroll;

      height: calc(100% - 56px) !important;
      max-height: 100% !important;

      transform: translateZ(0);

      -webkit-overflow-scrolling: touch;
      will-change: scroll-position;
    }
  }
}

// apply custom styles for all themes
@import '@evan.network/ui-angular-sass/src/theme';
@each $theme, $definition in $evanThemes {
  @if $theme != 'evan' {
    .evan-#{$theme} {
      taskboard-task-detail {
        .todo-container {
          &.is-active, &:hover {
            .todo-header-container {
              background-color: map-get($evanStyles, hover) !important;
            }
          }
        }
      }
    }
  }
}
